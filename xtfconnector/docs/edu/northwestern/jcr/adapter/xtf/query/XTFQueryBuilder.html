<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_15) on Fri Nov 20 17:00:07 CST 2009 -->
<TITLE>
XTFQueryBuilder
</TITLE>

<META NAME="date" CONTENT="2009-11-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XTFQueryBuilder";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/XTFQueryBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryHits.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="XTFQueryBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.northwestern.jcr.adapter.xtf.query</FONT>
<BR>
Class XTFQueryBuilder</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>edu.northwestern.jcr.adapter.xtf.query.XTFQueryBuilder</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>XTFQueryBuilder</B><DT>extends java.lang.Object<DT>implements org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</DL>
</PRE>

<P>
Implements a query builder that takes an AQT (abstract query tree) and 
 creates a <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>XTFQuery</CODE></A> object that can be executed against the 
 resource index.

 <p>The mapping from most JCR queries to XTF query statements is 
 relatively straightforward. Since the JCR trees will not be constructed 
 before the queries are issued, the most important queries to handle are 
 those based on descendants path constraint and wildcard node constraint.

 <p>The query expressions are generated and executed on a step by step
 basis. Once the translation is finished the <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>XTFQuery</CODE></A> object
 returned by <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#createXTFQuery()"><CODE>createXTFQuery()</CODE></A> will contain the list of pid along 
 with full paths as a result of the query.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#exceptions">exceptions</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exceptions thrown during tree translation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;org.apache.jackrabbit.core.HierarchyManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#hmgr">hmgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A hierarchy manager based on <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#sharedItemMgr"><CODE>sharedItemMgr</CODE></A> to resolve paths.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;org.slf4j.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log4j logger for this class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/NamespaceMappings.html" title="interface in edu.northwestern.jcr.adapter.xtf.query">NamespaceMappings</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#nsMappings">nsMappings</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Namespace mappings to internal prefixes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;org.apache.jackrabbit.core.query.PropertyTypeRegistry</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#propRegistry">propRegistry</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The property type registry.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;org.apache.jackrabbit.spi.commons.conversion.NamePathResolver</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#resolver">resolver</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name and Path resolver.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;org.apache.jackrabbit.spi.commons.query.QueryRootNode</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#root">root</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Root node of the abstract query tree.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;org.apache.jackrabbit.core.SessionImpl</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#session">session</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Session of the user executing this query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;org.apache.jackrabbit.core.state.ItemStateManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#sharedItemMgr">sharedItemMgr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The shared item state manager of the workspace.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#XTFQueryBuilder(org.apache.jackrabbit.spi.commons.query.QueryRootNode, org.apache.jackrabbit.core.SessionImpl, org.apache.jackrabbit.core.state.ItemStateManager, org.apache.jackrabbit.core.HierarchyManager, edu.northwestern.jcr.adapter.xtf.query.NamespaceMappings, org.apache.jackrabbit.core.query.PropertyTypeRegistry)">XTFQueryBuilder</A></B>(org.apache.jackrabbit.spi.commons.query.QueryRootNode&nbsp;root,
                org.apache.jackrabbit.core.SessionImpl&nbsp;session,
                org.apache.jackrabbit.core.state.ItemStateManager&nbsp;sharedItemMgr,
                org.apache.jackrabbit.core.HierarchyManager&nbsp;hmgr,
                <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/NamespaceMappings.html" title="interface in edu.northwestern.jcr.adapter.xtf.query">NamespaceMappings</A>&nbsp;nsMappings,
                org.apache.jackrabbit.core.query.PropertyTypeRegistry&nbsp;propReg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <code>XTFQueryBuilder</code> instance.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query">XTFQuery</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#createQuery(org.apache.jackrabbit.spi.commons.query.QueryRootNode, org.apache.jackrabbit.core.SessionImpl, org.apache.jackrabbit.core.state.ItemStateManager, edu.northwestern.jcr.adapter.xtf.query.NamespaceMappings, org.apache.jackrabbit.core.query.PropertyTypeRegistry)">createQuery</A></B>(org.apache.jackrabbit.spi.commons.query.QueryRootNode&nbsp;root,
            org.apache.jackrabbit.core.SessionImpl&nbsp;session,
            org.apache.jackrabbit.core.state.ItemStateManager&nbsp;sharedItemMgr,
            <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/NamespaceMappings.html" title="interface in edu.northwestern.jcr.adapter.xtf.query">NamespaceMappings</A>&nbsp;nsMappings,
            org.apache.jackrabbit.core.query.PropertyTypeRegistry&nbsp;propReg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a <code>XTFQuery</code> object from an
 abstract query tree.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query">XTFQuery</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#createXTFQuery()">createXTFQuery</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts the tree traversal and returns the 
 <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>XTFQuery</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#getStringValues(org.apache.jackrabbit.spi.Name, java.lang.String)">getStringValues</A></B>(org.apache.jackrabbit.spi.Name&nbsp;propertyName,
                java.lang.String&nbsp;literal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of String values to be used as a term to lookup the search index
 for a String <code>literal</code> of a certain property name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.AndQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.AndQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits an AND-type query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.DerefQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.DerefQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits the dereference query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.ExactQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.ExactQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits an exact query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.LocationStepQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.LocationStepQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits the location step query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.NodeTypeQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.NodeTypeQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits a node type query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.NotQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.NotQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits a NOT-type query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.OrderQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.OrderQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits the order query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.OrQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.OrQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits an OR-type query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.PathQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.PathQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits the path query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.PropertyFunctionQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.PropertyFunctionQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits a property function query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.QueryRootNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.QueryRootNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits the root node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.RelationQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.RelationQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits a relation query node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#visit(org.apache.jackrabbit.spi.commons.query.TextsearchQueryNode, java.lang.Object)">visit</A></B>(org.apache.jackrabbit.spi.commons.query.TextsearchQueryNode&nbsp;node,
      java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Visits a text search query node.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
private static final org.slf4j.Logger <B>log</B></PRE>
<DL>
<DD>log4j logger for this class.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="root"><!-- --></A><H3>
root</H3>
<PRE>
private final org.apache.jackrabbit.spi.commons.query.QueryRootNode <B>root</B></PRE>
<DL>
<DD>Root node of the abstract query tree.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="session"><!-- --></A><H3>
session</H3>
<PRE>
private final org.apache.jackrabbit.core.SessionImpl <B>session</B></PRE>
<DL>
<DD>Session of the user executing this query.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sharedItemMgr"><!-- --></A><H3>
sharedItemMgr</H3>
<PRE>
private final org.apache.jackrabbit.core.state.ItemStateManager <B>sharedItemMgr</B></PRE>
<DL>
<DD>The shared item state manager of the workspace.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="hmgr"><!-- --></A><H3>
hmgr</H3>
<PRE>
private final org.apache.jackrabbit.core.HierarchyManager <B>hmgr</B></PRE>
<DL>
<DD>A hierarchy manager based on <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html#sharedItemMgr"><CODE>sharedItemMgr</CODE></A> to resolve paths.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="nsMappings"><!-- --></A><H3>
nsMappings</H3>
<PRE>
private final <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/NamespaceMappings.html" title="interface in edu.northwestern.jcr.adapter.xtf.query">NamespaceMappings</A> <B>nsMappings</B></PRE>
<DL>
<DD>Namespace mappings to internal prefixes.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="resolver"><!-- --></A><H3>
resolver</H3>
<PRE>
private final org.apache.jackrabbit.spi.commons.conversion.NamePathResolver <B>resolver</B></PRE>
<DL>
<DD>Name and Path resolver.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="propRegistry"><!-- --></A><H3>
propRegistry</H3>
<PRE>
private final org.apache.jackrabbit.core.query.PropertyTypeRegistry <B>propRegistry</B></PRE>
<DL>
<DD>The property type registry.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="exceptions"><!-- --></A><H3>
exceptions</H3>
<PRE>
private final java.util.List <B>exceptions</B></PRE>
<DL>
<DD>Exceptions thrown during tree translation.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="XTFQueryBuilder(org.apache.jackrabbit.spi.commons.query.QueryRootNode, org.apache.jackrabbit.core.SessionImpl, org.apache.jackrabbit.core.state.ItemStateManager, org.apache.jackrabbit.core.HierarchyManager, edu.northwestern.jcr.adapter.xtf.query.NamespaceMappings, org.apache.jackrabbit.core.query.PropertyTypeRegistry)"><!-- --></A><H3>
XTFQueryBuilder</H3>
<PRE>
private <B>XTFQueryBuilder</B>(org.apache.jackrabbit.spi.commons.query.QueryRootNode&nbsp;root,
                        org.apache.jackrabbit.core.SessionImpl&nbsp;session,
                        org.apache.jackrabbit.core.state.ItemStateManager&nbsp;sharedItemMgr,
                        org.apache.jackrabbit.core.HierarchyManager&nbsp;hmgr,
                        <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/NamespaceMappings.html" title="interface in edu.northwestern.jcr.adapter.xtf.query">NamespaceMappings</A>&nbsp;nsMappings,
                        org.apache.jackrabbit.core.query.PropertyTypeRegistry&nbsp;propReg)</PRE>
<DL>
<DD>Creates a new <code>XTFQueryBuilder</code> instance.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>root</CODE> - the root node of the abstract query tree.<DD><CODE>session</CODE> - of the user executing this query.<DD><CODE>sharedItemMgr</CODE> - the shared item state manager of the
                           workspace.<DD><CODE>hmgr</CODE> - a hierarchy manager based on sharedItemMgr.<DD><CODE>nsMappings</CODE> - namespace resolver for internal prefixes.<DD><CODE>propReg</CODE> - the property type registry.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createQuery(org.apache.jackrabbit.spi.commons.query.QueryRootNode, org.apache.jackrabbit.core.SessionImpl, org.apache.jackrabbit.core.state.ItemStateManager, edu.northwestern.jcr.adapter.xtf.query.NamespaceMappings, org.apache.jackrabbit.core.query.PropertyTypeRegistry)"><!-- --></A><H3>
createQuery</H3>
<PRE>
public static <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query">XTFQuery</A> <B>createQuery</B>(org.apache.jackrabbit.spi.commons.query.QueryRootNode&nbsp;root,
                                   org.apache.jackrabbit.core.SessionImpl&nbsp;session,
                                   org.apache.jackrabbit.core.state.ItemStateManager&nbsp;sharedItemMgr,
                                   <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/NamespaceMappings.html" title="interface in edu.northwestern.jcr.adapter.xtf.query">NamespaceMappings</A>&nbsp;nsMappings,
                                   org.apache.jackrabbit.core.query.PropertyTypeRegistry&nbsp;propReg)
                            throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Creates a <code>XTFQuery</code> object from an
 abstract query tree.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>root</CODE> - the root node of the abstract query tree.<DD><CODE>session</CODE> - of the user executing the query.<DD><CODE>sharedItemMgr</CODE> - the shared item state manager of the workspace.<DD><CODE>nsMappings</CODE> - namespace resolver for internal prefixes.<DD><CODE>propReg</CODE> - the property type registry to lookup type
                        information.
<DT><B>Returns:</B><DD>the XTFQuery object.
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE> - if an error occurs during the translation.</DL>
</DD>
</DL>
<HR>

<A NAME="createXTFQuery()"><!-- --></A><H3>
createXTFQuery</H3>
<PRE>
private <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query">XTFQuery</A> <B>createXTFQuery</B>()
                         throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Starts the tree traversal and returns the 
 <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>XTFQuery</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the <code>XTFQuery</code> object.
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.QueryRootNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.QueryRootNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits the root node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query root node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Returns:</B><DD>the <code>XTFQuery</code> object
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.OrQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.OrQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits an OR-type query node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Returns:</B><DD>a <code>String</code> array containing two elements:
 a list of properties referenced and filter expression in SPARQL
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.AndQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.AndQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits an AND-type query node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Returns:</B><DD>a <code>String</code> array containing two elements:
 a list of properties referenced and filter expression in SPARQL
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.NotQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.NotQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits a NOT-type query node. Not implemented.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.ExactQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.ExactQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Visits an exact query node. Not implemented.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation</DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.NodeTypeQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.NodeTypeQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Visits a node type query node.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Returns:</B><DD>a <code>String</code> array containing two elements:
 the property referenced and filter expression in SPARQL</DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.TextsearchQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.TextsearchQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Visits a text search query node. Not implemented.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation</DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.PathQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.PathQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits the path query node. All the location steps are handled
 here instead of in the <code>visit</code> method for
 <code>LocationStepQueryNode</code>. Each location step
 is resolved and then triggers the operations in
 <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>XTFQuery</CODE></A> 
 which generates the SPARQL expressions and executes.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Returns:</B><DD>the <code>XTFQuery</code> object
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.LocationStepQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.LocationStepQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits the location step query node. Not used since all the 
 location steps are handled in the <code>visit</code> method for
 <code>PathQueryNode</code>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.DerefQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.DerefQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits the dereference query node. Not used since all the 
 dereference functions are resolved in
 <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>XTFQuery</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.RelationQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.RelationQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)
                       throws javax.jcr.RepositoryException</PRE>
<DL>
<DD>Visits a relation query node. Currently only three operators
 are supported: equal, not equal and not null.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation
<DT><B>Returns:</B><DD>a <code>String</code> array containing two elements:
 the property referenced and filter expression in SPARQL
<DT><B>Throws:</B>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.OrderQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.OrderQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Visits the order query node. Not used since all the 
 ordering are implemented in
 <A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/SearchIndex.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><CODE>SearchIndex</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation</DL>
</DD>
</DL>
<HR>

<A NAME="visit(org.apache.jackrabbit.spi.commons.query.PropertyFunctionQueryNode, java.lang.Object)"><!-- --></A><H3>
visit</H3>
<PRE>
public java.lang.Object <B>visit</B>(org.apache.jackrabbit.spi.commons.query.PropertyFunctionQueryNode&nbsp;node,
                              java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Visits a property function query node. Not implemented.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>visit</CODE> in interface <CODE>org.apache.jackrabbit.spi.commons.query.QueryNodeVisitor</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>node</CODE> - the query node<DD><CODE>data</CODE> - not used in this implementation</DL>
</DD>
</DL>
<HR>

<A NAME="getStringValues(org.apache.jackrabbit.spi.Name, java.lang.String)"><!-- --></A><H3>
getStringValues</H3>
<PRE>
private java.lang.String[] <B>getStringValues</B>(org.apache.jackrabbit.spi.Name&nbsp;propertyName,
                                           java.lang.String&nbsp;literal)</PRE>
<DL>
<DD>Returns an array of String values to be used as a term to lookup the search index
 for a String <code>literal</code> of a certain property name. This method
 will lookup the <code>propertyName</code> in the node type registry
 trying to find out the <CODE>PropertyType</CODE>s.
 If no property type is found looking up node type information, this
 method will guess the property type.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>propertyName</CODE> - the name of the property in the relation.<DD><CODE>literal</CODE> - the String literal in the relation.
<DT><B>Returns:</B><DD>the String values to use as term for the query.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/XTFQueryBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQuery.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../edu/northwestern/jcr/adapter/xtf/query/XTFQueryHits.html" title="class in edu.northwestern.jcr.adapter.xtf.query"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/northwestern/jcr/adapter/xtf/query/XTFQueryBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="XTFQueryBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
